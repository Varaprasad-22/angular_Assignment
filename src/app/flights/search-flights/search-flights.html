<div class="search-container">

  <h2>Search Flights</h2>

  <form [formGroup]="searchForm" (ngSubmit)="search()" class="search-form">

    <div class="row">
      <div class="field">
        <label>From</label>
        <input type="text" formControlName="fromPlace" placeholder="From city">
      </div>

      <div class="field">
        <label>To</label>
        <input type="text" formControlName="toPlace" placeholder="To city">
      </div>
    </div>

    <div class="row">
      <div class="field">
        <label>Departure Date</label>
        <input type="date" formControlName="departureDate">
      </div>

      <div class="field">
        <label>Return Date</label>
        <input
          type="date"
          formControlName="returnDate"
          [disabled]="searchForm.value.tripType === 'oneWay'"
        >
      </div>
    </div>

    <div class="row">
      <div class="field full">
        <label>Trip Type</label>
        <select formControlName="tripType">
          <option value="oneWay">One Way</option>
          <option value="roundTrip">Round Trip</option>
        </select>
      </div>
    </div>

    <button type="submit" [disabled]="searchForm.invalid">
      Search Flights
    </button>

  </form>

  <table *ngIf="flights.length > 0">
    <tr>
      <th>Flight No</th>
      <th>From</th>
      <th>To</th>
      <th>Price</th>
    </tr>
    <tr *ngFor="let f of flights">
      <td>{{ f.flightNumber }}</td>
      <td>{{ f.fromPlace }}</td>
      <td>{{ f.toPlace }}</td>
      <td>{{ f.price }}</td>
    </tr>
  </table>

  <p *ngIf="flights.length === 0">
    No flights found
  </p>

</div>
